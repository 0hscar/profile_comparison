# Business Profile Comparator

This project is a business profile comparator tool as an extension to an application. It allows users to compare their restaurant or business profile with nearby and similar businesses, leveraging AI-generated insights and data from Google/Serper. The app features a modern Vue.js frontend and a Django backend with AI integration. Note, no database included as this would be an addon to an existing system.

---

## Project Structure

```
project-root/
├── backend/         # Django backend (API, business logic, AI integration)
│   └── comparator/
│       └── api/
│           ├── fetch_restaurant_groups.py
│           ├── fetch_user_restaurant.py
│           └── ... (other backend logic)
├── frontend/        # Vue.js frontend (UI, components)
│   ├── src/
│   │   ├── App.vue
│   │   └── components/
│   │       ├── InputForm.vue
│   │       ├── Results.vue
│   │       ├── RestaurantCard.vue
│   │       └── AppButton.vue
│   └── ... (config, assets)
└── README.md        # This file
```

---

## Features

- **Compare your business:** Enter your business name and location to compare with nearby and similar restaurants.
- **AI-powered insights:** Get summaries, suggestions, and extra insights generated by AI.
- **Interactive UI:** Expand/collapse restaurant cards for more details, toggle between nearby and similar lists.
- **Modern stack:** Vue 3 frontend, Django backend, OpenAI/Serper integration.

---

## How to Run

### Prerequisites

- Python 3.8+
- Node.js (v16+ recommended) & npm
- (Optional) [Poetry](https://python-poetry.org/) for Python dependency management
- (Optional) [pipenv](https://pipenv.pypa.io/) or `venv` for virtual environments

---

### 1. Clone the Repository

You can clone using SSH or HTTPS:

```
git clone git@github.com:0hscar/profile_comparison.git
# or
git clone https://github.com/0hscar/profile_comparison.git
```

Then `cd` into the directory that was created:

```
cd profile_comparison
```

---

### 2. Backend Setup (Django)

1. **Install dependencies:**
   ```
   cd backend
   python -m venv venv
   source venv/bin/activate
   pip install -r requirements.txt
   ```

2. **Set up environment variables:**
   - Copy `.env.example` to `.env` and fill in your API keys (OpenAI, Serper, etc).

3. **Run migrations:** If you implement database
   ```
   python manage.py migrate
   ```

4. **Start the backend server:**
   ```
   python manage.py runserver
   ```

---
### Seperate terminals
---

### 3. Frontend Setup (Vue.js)

1. **Install dependencies:**
   ```
   cd frontend
   npm install
   ```

2. **Run the development server:**
   ```
   npm run serve
   ```
   - The app will be available at `http://localhost:8080` by default.

---

### 4. Usage

- Open your browser and go to `http://localhost:8080`.
- "Hardcoded" user restaurant: "Stefan's Steakhouse" in "Helsinki".
- Explore AI-generated summaries, suggestions, and competitor details.

---

## What It Contains

- **Backend (Django):**
  - API endpoints for fetching user restaurant, nearby and similar groups.
  - AI integration for generating summaries and insights.
  - Caching for performance.

- **Frontend (Vue.js):**
  - Responsive UI for input, results, and interactive cards.
  - Toggle between nearby and similar restaurants.
  - Expandable/collapsible restaurant cards.
  - Loading animations and error handling.

---

## Development Notes

- You need valid API keys for OpenAI and Serper in your backend `.env` file.

---

## Ver0.2
### TODO:
- **Streaming responses to the frontend**
- 







## Still to do. OLD VERSION

- **Testing:** Add full unit tests for both backend and frontend components, edge cases and error handling. No more 404 errors caused by empty variables.
- **bug fixes:** Address any known issues or bugs. Known bugs include:
  - Double API call on direct compare from nearby/similar list.
  - If input searched a second time, competitor query get's wild and ignores location/address
  - Some UI elements overlap.
- **Mandatory Features:** AI response formating.
- **Mandatory Cleanup:** Codebase cleaning 

## Fixed bugs. OLD VERSION

- **Nearby restaurants bug**

## Performance fixes

- **Changed to response.parse:** Faster OpenAI responses

## Future features: OLD VERSION

- **Improvements:** More data soures, Improved UI/UX based on customers requests / self noticed possibilities, Focused data driven / Casual data driven suggestions.  
- **Streaming AI Response**
- **Potential REST Framework**
- **Web Scraping**: Image size checks, Menu and Open hours, Online reservation
- **Instead of Web Scraping**: browse.ai . Does the scraping for you
- **Charts:** Either AI generated or coded.
- **Country Codes:** Mapping country codes "fi": "Finland",

### Not visible for user OLD VERSION

- **Double API call on direct compare via nearby / similar list**
- **After change to response.parse -> location / address gets ignored on OpenAI call. CRUCIAL FIX BEFORE LAUNCH**

## Scope. OLD VERSION

- Serper API (Google) + AI (GPT 4.1-mini) generated suggestions, comparison and extra insights
- Either choose from a list of nearby / similar restaurant. Or Search for multiple by name or "thai food". Direct search also available. Simple UI implemented to achieve this
- Designed as a slap-on slide-in feature for an existing Vue app
- response.parse OpenAI call used for faster response times and structured returns
-- Caching prompts, responses and fetched data from Serper API.
-- Feeds changeable data last into the AI prompt as OpenAI auto caches and it redoes it when it finds changed data. 

## Fixed and passed tests. OLD VERSION

- Results.spec.js
- ComparatorSlideout.spec.js
- InputForm.spec.js
- RestaurantCard.spec.js
- SidebarRestaurantList.spec.js 

## Explain. OLD VERSION
- temperature. the lesser number minimized changeability in repsonses. Less varying answers, can be experimented with
- csrf_exempt protects from unauthorized third party sites. 

## Left out. OLD VERSION 
- Chart generation/ visualization. -> future
- Preview improvements using the AI generated content. --> Is a future feature in my mind, doesn't fit in a MVP
- Web Scraping --> A massive improvement as LLMs based on limited data can get things wrong -> browse.ai recommended
- Running modern local models if infrastructure can support it.
- 
